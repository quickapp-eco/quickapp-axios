{"version":3,"file":"quick-app-fetch.js","sources":["../node_modules/@babel/runtime/helpers/defineProperty.js","../src/defaults.js","../src/core/interceptorManager.js","../src/core/createError.js","../src/core/settle.js","../src/core/http.js","../src/core/transformData.js","../src/helpers/combineURL.js","../src/helpers/isAbsoluteURL.js","../src/core/dispatchRequest.js","../src/core/Fetch.js","../src/main.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","const DEFAULT_CONTENT_TYPE = {\r\n  'Content-Type': 'application/x-www-form-urlencoded'\r\n};\r\n\r\nconst defaults = {\r\n  transformResponse: [function transformResponse(data) {\r\n    if (typeof data === 'string') {\r\n      try {\r\n        data = JSON.parse(data);\r\n      } catch (e) {\r\n      }\r\n    }\r\n    return data;\r\n  }],\r\n  validateCode: function validateCode(code) {\r\n    return code >= 200 && code < 300;\r\n  }\r\n};\r\n\r\ndefaults.header = {\r\n  common: {}\r\n};\r\n\r\n['delete', 'get', 'head'].forEach(method => {\r\n  defaults.header[method] = {};\r\n});\r\n\r\n['post', 'put', 'patch'].forEach(method => {\r\n  defaults.header[method] = Object.assign({}, DEFAULT_CONTENT_TYPE);\r\n});\r\n\r\nexport default defaults;\r\n","function InterceptorManager() {\r\n  this.handlers = [];\r\n}\r\n\r\n/**\r\n * Add a new interceptor to the stack\r\n *\r\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\r\n * @param {Function} rejected The function to handle `reject` for a `Promise`\r\n * @return {Number} An ID used to remove interceptor later\r\n */\r\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\r\n  this.handlers.push({\r\n    fulfilled,\r\n    rejected\r\n  });\r\n  return this.handlers.length - 1;\r\n};\r\n\r\n/**\r\n * Remove an interceptor from the stack\r\n *\r\n * @param {Number} id The ID that was returned by `use`\r\n */\r\nInterceptorManager.prototype.eject = function eject(id) {\r\n  if (this.handlers[id]) {\r\n    this.handlers[id] = null;\r\n  }\r\n};\r\n\r\n/**\r\n * Iterate over all the registered interceptors\r\n *\r\n * @param {Function} fn The function to call for each interceptor\r\n */\r\nInterceptorManager.prototype.forEach = function forEach(fn) {\r\n  this.handlers.forEach(h => {\r\n    if (h !== null) {\r\n      fn(h);\r\n    }\r\n  })\r\n};\r\n\r\nexport default InterceptorManager;\r\n","/**\r\n * Update an Error with the specified config, error code, and response.\r\n *\r\n * @param {Error} error The error to update.\r\n * @param {Object} config The config.\r\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\r\n * @returns {Error} The error.\r\n */\r\nfunction enhanceError(error, config, code) {\r\n  error.config = config;\r\n  if (code) {\r\n    error.code = code;\r\n  }\r\n  return error;\r\n}\r\n\r\n/**\r\n * Create an Error with the specified message, config, error code, request and response.\r\n *\r\n * @param {string} message The error message.\r\n * @param {Object} config The config.\r\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\r\n * @returns {Error} The created error.\r\n */\r\nfunction createError(message, config, code) {\r\n  const error = new Error(message);\r\n  return enhanceError(error, config, code);\r\n}\r\n\r\nexport default createError;\r\n","import createError from './createError'\r\n\r\n/**\r\n * Resolve or reject a Promise based on response status.\r\n *\r\n * @param {Function} resolve A function that resolves the promise.\r\n * @param {Function} reject A function that rejects the promise.\r\n * @param {object} response The response.\r\n */\r\nfunction settle(resolve, reject, response) {\r\n  const {validateCode} = response.config;\r\n\r\n  if (!response.status || !validateCode || validateCode(response.status)) {\r\n    resolve(response);\r\n  } else {\r\n    reject(createError(\r\n      'Request failed with status code ' + response.code,\r\n      response.config,\r\n      null,\r\n    ));\r\n  }\r\n};\r\n\r\nexport default settle;\r\n","import fetch from '@system.fetch';\r\nimport settle from './settle';\r\nimport createError from './createError';\r\n\r\n/**\r\n * Execute a fetch request\r\n *\r\n * @param {object} config The config that is to be used for the request\r\n * @returns {Promise} The Promise to be fulfilled\r\n */\r\nfunction http(config) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch.fetch(config)\r\n      .then(res => {\r\n        const responseData = res.data;\r\n\r\n        const response = {\r\n          code: responseData.code,\r\n          data: responseData.data,\r\n          headers: responseData.headers,\r\n          config,\r\n        };\r\n\r\n        settle(resolve, reject, response);\r\n      })\r\n      .catch(error => {\r\n        reject(createError(\r\n          error.data,\r\n          config,\r\n          error.code,\r\n        ));\r\n      })\r\n  });\r\n}\r\n\r\nexport default http;\r\n","/**\r\n * Transform the data for a request or a response\r\n *\r\n * @param {Object|String} data The data to be transformed\r\n * @param {Array} headers The headers for the request or response\r\n * @param {Array|Function} fns A single function or Array of functions\r\n * @returns {*} The resulting transformed data\r\n */\r\nfunction transformData(data, headers, fns) {\r\n  fns.forEach(fn => {\r\n    data = fn(data, headers);\r\n  });\r\n\r\n  return data;\r\n}\r\n\r\nexport default transformData\r\n","/**\r\n * Creates a new URL by combining the specified URLs\r\n *\r\n * @param {string} baseURL The base URL\r\n * @param {string} relativeURL The relative URL\r\n * @returns {string} The combined URL\r\n */\r\nfunction combineURL(baseURL, relativeURL) {\r\n  return relativeURL\r\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\r\n    : baseURL;\r\n}\r\n\r\nexport default combineURL;\r\n","/**\r\n * Determines whether the specified URL is absolute\r\n *\r\n * @param {string} url The URL to test\r\n * @returns {boolean} True if the specified URL is absolute, otherwise false\r\n */\r\nfunction isAbsoluteURL(url) {\r\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\r\n}\r\n\r\nexport default isAbsoluteURL;\r\n","import http from './http';\r\nimport transformData from './transformData';\r\nimport combineURL from '../helpers/combineURL';\r\nimport isAbsoluteURL from '../helpers/isAbsoluteURL';\r\n\r\n/**\r\n * Dispatch a request to the server using the configured adapter\r\n *\r\n * @param {object} config The config that is to be used for the request\r\n * @returns {Promise} The Promise to be fulfilled\r\n */\r\nfunction dispatchRequest(config) {\r\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\r\n    config.url = combineURL(config.baseURL, config.url);\r\n  }\r\n\r\n  // Ensure header exist\r\n  config.header = config.header || {};\r\n\r\n  // Flatten headers\r\n  config.header = Object.assign(\r\n    {},\r\n    config.header.common || {},\r\n    config.header[config.method] || {},\r\n    config.header || {}\r\n  );\r\n\r\n  ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'].forEach(key => {\r\n    delete config.header[key];\r\n  });\r\n\r\n  return http(config).then(response => {\r\n    response.data = transformData(\r\n      response.data,\r\n      response.headers,\r\n      config.transformResponse\r\n    );\r\n\r\n    return response;\r\n  }).catch(reason => {\r\n    if (reason && reason.response) {\r\n      reason.response.data = transformData(\r\n        reason.response.data,\r\n        reason.response.headers,\r\n        config.transformResponse\r\n      );\r\n    }\r\n\r\n    return Promise.reject(reason);\r\n  })\r\n}\r\n\r\nexport default dispatchRequest;\r\n","import defaults from \"../defaults\";\r\nimport InterceptorManager from './interceptorManager';\r\nimport dispatchRequest from './dispatchRequest';\r\n\r\n/**\r\n * Create a new instance of Fetch\r\n *\r\n * @param {Object} instanceConfig The default config for the instance\r\n */\r\nfunction Fetch(instanceConfig) {\r\n  this.defaults = instanceConfig;\r\n  this.interceptors = {\r\n    request: new InterceptorManager(),\r\n    response: new InterceptorManager()\r\n  };\r\n}\r\n\r\n/**\r\n * Dispatch a request\r\n *\r\n * @param {Object} config The config specific for this request\r\n */\r\nFetch.prototype.request = function request(config) {\r\n  config = Object.assign({}, defaults, { method: 'get' }, this.defaults, config);\r\n  config.method = config.method.toLowerCase();\r\n\r\n  const chain = [dispatchRequest, undefined];\r\n  let promise = Promise.resolve(config);\r\n\r\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\r\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\r\n  });\r\n\r\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\r\n    chain.push(interceptor.fulfilled, interceptor.rejected);\r\n  });\r\n\r\n  while (chain.length) {\r\n    promise = promise.then(chain.shift(), chain.shift());\r\n  }\r\n\r\n  return promise;\r\n};\r\n\r\n// Provide aliases for supported request methods\r\n['delete', 'get', 'head', 'options'].forEach(method => {\r\n  Fetch.prototype[method] = function (url, config) {\r\n    return this.request({\r\n      ...(config || {}), method, url\r\n    });\r\n  }\r\n});\r\n\r\n['post', 'put', 'patch'].forEach(method => {\r\n  Fetch.prototype[method] = function (url, data, config) {\r\n    return this.request({\r\n      ...(config || {}), method, url, data\r\n    });\r\n  }\r\n});\r\n\r\nexport default Fetch;\r\n","import Fetch from './core/Fetch';\r\nimport defaults from './defaults';\r\n\r\n/**\r\n * Create an instance of Fetch\r\n *\r\n * @param {Object} defaultConfig The default config for the instance\r\n * @return {Fetch} A new instance of Fetch\r\n */\r\nfunction createInstance(defaultConfig) {\r\n  const context = new Fetch(defaultConfig);\r\n  const instance = Fetch.prototype.request.bind(context);\r\n\r\n  // Copy Fetch.prototype and context to instance\r\n  Object.assign(instance, Fetch.prototype, context);\r\n  return instance;\r\n}\r\n\r\n// Create the default instance to be exported\r\nconst fetch = createInstance(defaults);\r\n\r\n// Expose Fetch class to allow class inheritance\r\nfetch.Fetch = Fetch;\r\n\r\n// Factory for creating new instances\r\nfetch.create = function create(instanceConfig) {\r\n  return createInstance({...defaults, ...instanceConfig});\r\n};\r\n\r\nexport default fetch;\r\n"],"names":["DEFAULT_CONTENT_TYPE","defaults","transformResponse","data","JSON","parse","e","validateCode","code","header","common","forEach","method","Object","assign","InterceptorManager","handlers","prototype","use","fulfilled","rejected","push","length","eject","id","fn","h","enhanceError","error","config","createError","message","Error","settle","resolve","reject","response","status","http","Promise","fetch","then","res","responseData","headers","transformData","fns","combineURL","baseURL","relativeURL","replace","isAbsoluteURL","url","test","dispatchRequest","key","reason","Fetch","instanceConfig","interceptors","request","toLowerCase","chain","undefined","promise","unshiftRequestInterceptors","interceptor","unshift","pushResponseInterceptors","shift","createInstance","defaultConfig","context","instance","bind","create"],"mappings":"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"}